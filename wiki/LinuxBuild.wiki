#summary This page explains how to build Tamanoir on Linux.
#labels Linux,OpenCV,Qt4

= Introduction =

This page explains how to build Tamanoir on Linux.


= Details =

Building Tamanoir on Linux.

You need :
- OpenCV : to load/save images, to manipulate some image buffers (libs cxcore, highgui)
- Qt4 for Mac
- XCode
- Tamanoir

If you want to manipulate 16bit TIFF, you have to patch OpenCV and to use libtiff. 
If OpenCV uses ImageIO, it will not support import/export of 16bit images. When removing ImageIO from OpenCV, you need to add at least libPNG to open PNG pictures. The building of libJPEG is not needed.

So, for 16bit support, you need to download and rebuild : 
* libTIFF
* libPNG
* OpenCV 

If you do not need 16bit TIFF support, jump to OpenCV section.

----
==Libtiff==

Download : http://www.libtiff.org/
Compile and Install :
{{{
./configure ; make ; sudo make install
}}}

----
==libpng==

Download : [http://libpng.sourceforge.net/] - [ftp://ftp.simplesystems.org/pub/png/]
Compile and Install :
./configure ; make ; sudo make install

----
== OpenCV ==

=== OpenCV *without* 16bit TIFF support ===

Install a development version of OpenCV with your package manager, for example:
{{{
apt-get install libhighgui-dev
}}}

=== OpenCV *with* 16bit TIFF support ===
Download patched version for 16bit support : [http://cseyve.free.fr/Vision/download/opencv-tiff16bit.tar.bz2]

We must compile without ImageIO to use the libtiff for 16bit support :
{{{
./configure --with-libtiff=yes --enable-libtiff=yes --with-imageio=no
}}}

We must obtain this kind of configuration :
{{{
Image I/O Use ImageIO / Mac OS X: no
Use libjpeg: yes
Use zlib: yes
Use libpng: yes
Use libtiff: yes
Use libjasper: no
Use libIlmImf: no
}}}

Then build :
{{{
make
make install
}}}

----
== Qt4 ==

Download : [http://trolltech.com/downloads/opensource]
Install Qt4. For example: 
{{{
apt-get install qt4-dev
}}}

----
== Tamanoir ==

Download snapshot : 
{{{
# Non-members may check out a read-only working copy anonymously over HTTP.
svn checkout http://tamanoir.googlecode.com/svn/trunk/ tamanoir-read-only
}}}

Compile Tamanoir :
{{{
cd Tamanoir/
qmake
}}}

or for Debian 4 Etch with both Qt3 and Qt4:
{{{
qmake-qt4
}}}

Then build : 
{{{
make
./Tamanoir
}}}

=Debian package=

Tamanoir use the "native Debian packagin" model, where the debian/ foler and its control files are maintained in the upstream repository. Instructions to build a Debian package should work on any Debian-based distribution (Ubuntu for instance):
{{{
$ svn checkout http://tamanoir.googlecode.com/svn/trunk/ tamanoir
$ cd tamanoir
$ dpkg-buildpackage -uc -us -rfakeroot
}}}

Binary packages for Debian Lenny i386 are available, see http://zerodeux.net/debian/